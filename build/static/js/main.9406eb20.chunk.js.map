{"version":3,"sources":["theme.js","components/auth-helper.js","graphql/queries.js","components/core/Search.js","components/cart/cart-helper.js","components/core/Menu.js","components/core/Overview.js","components/core/Home.js","graphql/mutations.js","components/user/Signin.js","components/user/Signup.js","components/product/Category.js","components/product/Reviews.js","components/loading/Loading.js","components/product/Product.js","components/cart/Checkout.js","components/cart/CartItems.js","components/cart/Cart.js","components/user/OrdersHistory.js","components/user/Profile.js","components/core/Footer.js","PrivateRoute.js","MainRouter.js","App.js","index.js"],"names":["theme","createMuiTheme","palette","primary","main","light","dark","contrastText","secondary","typography","fontFamily","join","window","localStorage","getItem","PRODUCT_DETAILS","gql","GET_PRODUCT_BY_ID","ALL_PRODUCTS","GET_BY_CATEGORY","ME","ORDER_DETAILS","GET_ORDERS_BY_USER","SearchLoader","props","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","cx","cy","r","useStyles","makeStyles","search","position","borderRadius","fade","breakpoints","down","flexGrow","marginLeft","spacing","searchIcon","padding","inputRoot","color","inputInput","paddingLeft","Search","classes","result","useQuery","loading","className","Autocomplete","disableClearable","options","data","allProducts","renderOption","option","to","id","Typography","label","getOptionLabel","renderInput","params","TextField","placeholder","item","cb","cart","JSON","parse","push","product","quantity","setItem","stringify","length","index","splice","bar","boxShadow","span","up","desktop","display","mobile","zIndex","StyledBadge","withStyles","badge","right","top","Badge","HideOnScroll","children","trigger","useScrollTrigger","target","Slide","appear","direction","in","Menu","withRouter","history","useState","anchorEl","setAnchorEl","MobileAnchorEl","setMobileAnchorEl","client","useApolloClient","handlePrimaryMenuOpen","event","currentTarget","handlePrimaryMenuClose","handleLogout","clear","resetStore","menuId","renderMenu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","MenuItem","onClick","mobileMenuId","renderMobileMenu","IconButton","edge","ShoppingCart","aria-label","aria-controls","aria-haspopup","AccountCircle","AppBar","Toolbar","variant","title","authHelper","badgeContent","Button","desktopCart","MoreVert","OverViewLoader","chevron","alignSelf","card","media","Overview","category","variables","limit","Card","CardHeader","CardContent","Grid","container","getByCategory","map","p","xs","md","src","alt","component","description","slice","ChevronRight","root","margin","marginTop","Home","CREATE_USER","LOGIN","UPDATE_USERNAME","UPDATE_PASSWORD","PLACE_ORDER","ADD_REVIEW","MARK_AS_RECEIVED","maxWidth","textAlign","openTitle","textField","marginRight","submit","marginBottom","error","verticalAlign","Signin","timeout","username","password","redirectToReferrer","values","setValues","useMutation","onError","graphQLErrors","message","clearTimeout","setTimeout","login","useEffect","token","value","handleChange","name","handleSubmit","a","preventDefault","from","location","state","pathname","type","onChange","Icon","CardActions","Signup","createUser","Dialog","disableBackdropClick","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","grid","heading","hegith","Category","useParams","console","log","commentField","reviewBody","border","text","loginto","Reviews","reviews","addReview","productId","setText","rating","setRating","setError","auth","onSubmit","body","Number","Rating","multiline","required","postedBy","subheader","readOnly","Loading","priceTag","bodyText","fontWeight","flex","justifyContent","alignItems","flexDirection","flexRow","ratingCount","Product","redirect","setRedirect","averageRating","useMemo","sum","getProductById","reduce","b","update","store","response","dataInStore","readQuery","query","writeQuery","price","stock","total","contButton","Checkout","setOpen","useHistory","getTotal","handleCheckout","details","productTitle","fontSize","itemTotal","float","subheading","singleProduct","CartItems","items","setItems","getOrdersByUser","placeOrder","updatedItems","removeItem","i","inputProps","min","max","InputLabelProps","shrink","Divider","forEach","orderedProductId","address","Cart","tabTabContent","paddingTop","left","image","flexGow","sep","paddingBottom","empty","button","OrdersHistory","finished","orders","setOrders","markReceived","o","concat","filter","or","order","orderedProduct","shipped","orderId","Date","created","toDateString","header","tabs","tabContent","passwordTextFiled","Profile","queryTab","useLocation","tab","oldPassword","newPassword","confirmPassword","confirm","passError","passSuccess","userError","userSuccess","handleNotification","updateUsername","userResult","updatePassword","passwordResult","me","Tabs","v","indicatorColor","textColor","Tab","fullWidth","Alert","severity","newUsername","confrim","minHeight","footerHeader","link","Footer","href","rel","varinat","icon","faGithub","PrivateRoute","Component","rest","render","MainRouter","path","exact","App","ThemeProvider","authLink","setContext","_","headers","authorization","httpLink","HttpLink","uri","ApolloClient","cache","InMemoryCache","ReactDOM","ApolloProvider","document","getElementById"],"mappings":"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","file":"static/js/main.9406eb20.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core'\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#ffffff',\n\t\t\tlight: '#ffffff',\n\t\t\tdark: '#cccccc',\n\t\t\tcontrastText: '#000000'\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#000000',\n\t\t\tlight: '#2c2c2c',\n\t\t\tdark: '#000000'\n\t\t}\n\t},\n\ttypography: {\n\t\tfontFamily: ['IBM Plex Mono', 'monospace', ].join(', ')\n\t}\n})\n\nexport default theme","const isAuthenticated = () => {\n\tif(typeof window == 'undefined') {\n\t\treturn false\n\t}\n\n\tif(localStorage.getItem('snake-way-login')) {\n\t\treturn localStorage.getItem('snake-way-login')\n\t} else {\n\t\treturn false\n\t}\n}\n\nexport default { isAuthenticated }","import { gql } from '@apollo/client'\n\n\n\n\n\n\nconst PRODUCT_DETAILS = gql`\nfragment ProductDetails on Product {\n\tlabel\n\tprice\n\tstock\n\tdescription\n\tid\n\trating\n\tcategory\n\treviews {\n\t\tid\n\t\trating\n\t\ttext\n\t\tcreated\n\t\tpostedBy {\n\t\t\tusername\n\t\t\tid\n\t\t}\n\t}\n}\n`\nexport const GET_PRODUCT_BY_ID = gql`\n\tquery GetProductById($productId: String!) {\n\t\tgetProductById(productId: $productId) {\n\t\t\t...ProductDetails\n\t\t}\n\t}\n\t${PRODUCT_DETAILS}\n`\nexport const ALL_PRODUCTS = gql`\nquery {\n\tallProducts {\n\t\t...ProductDetails\n\t}\n}\n${PRODUCT_DETAILS}\n`\n\nexport const PRODUCT_COUNT = gql`\nquery {\n\tproductCount\n}\n`\n\nexport const FIND_PRODUCTS = gql`\n\tquery FindProducts($label: String!) {\n\t\tfindProducts(label: $label) {\n\t\t\t...ProductDetails\n\t\t}\n\t}\n\t${PRODUCT_DETAILS}\n`\n\n// DONT FORGET TO WRITE TEST FOR LIMIT OPTION ON BACKEND\nexport const GET_BY_CATEGORY = gql`\n\tquery GetByCategory($category: String!, $limit: YesNo) {\n\t\tgetByCategory(category: $category, limit: $limit) { \n\t\t\t...ProductDetails\n\t\t}\n\t}\n\t${PRODUCT_DETAILS}\n`\n\nexport const ME = gql`\nquery {\n\tme {\n\t\tusername\n\t\tid\n\t}\n}\n`\n\nconst ORDER_DETAILS = gql`\n\tfragment OrderDetails on Order {\n\t\torderedProduct {\n\t\t\t...ProductDetails\n\t\t}\n\t\tquantity\n\t\tcreated\n\t\taddress\n\t\tid\n\t\tfinished\n\t\tshipped\n\t\tuser {\n\t\t\tusername\n\t\t\tid\n\t\t}\n\t}\n\t${PRODUCT_DETAILS}\n`\n\nexport const PLACE_ORDER = gql`\n\tmutation PlaceOrder($orderedProductId: String!, $quantity: Int!, $address: String!) {\n\t\tplaceOrder(orderedProductId: $orderedProductId, quantity: $quantity, address: $address) {\n\t\t\t...OrderDetails\n\t\t}\n\t}\n\t${ORDER_DETAILS}\n`\n\nexport const GET_ORDERS_BY_USER = gql`\n\tquery {\n\t\tgetOrdersByUser {\n\t\t\t...OrderDetails\n\t\t}\n\t}\n\t${ORDER_DETAILS}\n`","import React from 'react'\nimport { TextField, makeStyles, fade, Typography } from '@material-ui/core'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport { Search as SearchIcon } from '@material-ui/icons'\nimport { useQuery } from '@apollo/client'\nimport { ALL_PRODUCTS } from '../../graphql/queries'\nimport { Link } from 'react-router-dom'\nimport ContentLoader from 'react-content-loader'\n\nconst SearchLoader = (props) => (\n\t<ContentLoader \n    speed={2}\n    width={400}\n    height={32}\n    viewBox=\"0 0 600 100\"\n    backgroundColor=\"#c7bdbd\"\n    foregroundColor=\"#ecebeb\"\n    {...props}\n  >\n    <rect x=\"520\" y=\"166\" rx=\"3\" ry=\"3\" width=\"88\" height=\"6\" /> \n    <rect x=\"547\" y=\"169\" rx=\"3\" ry=\"3\" width=\"52\" height=\"6\" /> \n    <circle cx=\"577\" cy=\"171\" r=\"20\" /> \n    <rect x=\"36\" y=\"120\" rx=\"0\" ry=\"0\" width=\"341\" height=\"173\" /> \n    <rect x=\"308\" y=\"95\" rx=\"0\" ry=\"0\" width=\"5\" height=\"1\" /> \n    <rect x=\"33\" y=\"1\" rx=\"0\" ry=\"0\" width=\"279\" height=\"51\" />\n  </ContentLoader>\n)\n\nconst useStyles = makeStyles(theme => ({\n\tsearch: {\n    position: 'relative',\n    borderRadius: '5px',\n    backgroundColor: fade(theme.palette.primary.dark, 0.85),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.primary.dark, 1),\n    },\n \n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tflexGrow: 2,\n\t\t\tmarginLeft: theme.spacing(2)\n\t\t},\n    width: theme.spacing(50),\n\t\tmarginLeft: theme.spacing(2),\n\t\tpadding: `${theme.spacing(1.2)}px ${theme.spacing(2)}px`\n  },\n\n\tsearchIcon: {\n    padding: theme.spacing(0, 2),\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(0, 0.5)\n\t\t},\n    height: '100%',\n    position: 'absolute',\n    top: '16px'\n  },\n\tinputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpaddingLeft: `calc(1em + ${theme.spacing(2)}px)`\n\t\t},\n\t\twidth: theme.spacing(40),\n\t\tfontWeight: 200\n  },\n}))\n\nconst Search = () => {\n\tconst classes = useStyles()\n\t\n\t\n\n\tconst result = useQuery(ALL_PRODUCTS)\n\t\n\n\tif (result.loading) {\n\t\treturn (\n\t\t\t<SearchLoader />\n\t\t)\n\t}\n\n\n\treturn (\n\t\t<div className={classes.search}>\n\t\t\t<div className={classes.searchIcon}>\n\t\t\t\t<SearchIcon />\n\t\t\t</div>\n\t\t\t\n\t\t\t<Autocomplete\n\n\t\t\t\tdisableClearable\n\t\t\t\t\n\t\t\t\toptions={result.data.allProducts}\n\t\t\t\trenderOption={(option) => (\n\t\t\t\t\t<Link to={`/products/product/${option.id}`}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t\tgetOptionLabel={(option => option.label)}\n\t\t\t\trenderInput={(params) => (\n\t\t\t\t<TextField\n\t\t\t\t\t{ ...params }\n\t\t\t\t\tplaceholder=\"Search products…\"\n\t\t\t\t\t\n\t\t\t\t\tclassName={classes.inputInput}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t)}\n\t\t\t/>\n\t\t</div>\n\t)\n}\nexport default Search","const addItem = (item, cb) => {\n\tlet cart = []\n\tif (typeof window !== 'undefined') {\n\t\tif (localStorage.getItem('cart')) {\n\t\t\tcart = JSON.parse(localStorage.getItem('cart'))\n\t\t}\n\t\tcart.push({\n\t\t\tproduct: item,\n\t\t\tquantity: 1,\n\t\t})\n\t\tlocalStorage.setItem('cart', JSON.stringify(cart))\n\t\tcb()\n\t}\n}\n\nconst totalItems = () => {\n\tif (typeof window !== 'undefined') {\n\t\tif (localStorage.getItem('cart')) {\n\t\t\treturn JSON.parse(localStorage.getItem('cart')).length\n\t\t}\n\t}\n\treturn 0\n}\n\nconst getCart = () => {\n\tif (typeof window !== 'undefined') {\n\t\tif (localStorage.getItem('cart')) {\n\t\t\treturn JSON.parse(localStorage.getItem('cart'))\n\t\t}\n\t}\n\treturn []\n}\n\nconst updateCart =(index, quantity) => {\n\tlet cart = []\n\tif (typeof window !== 'undefined') {\n\t\tif (localStorage.getItem('cart')) {\n\t\t\tcart = JSON.parse(localStorage.getItem('cart'))\n\t\t}\n\t\tcart[index].quantity = quantity\n\t\tlocalStorage.setItem('cart', JSON.stringify(cart))\n\t}\n}\n\nconst removeItem = index => {\n\tlet cart = []\n\tif (typeof window !== 'undefined') {\n\t\tif (localStorage.getItem('cart')) {\n\t\t\tcart = JSON.parse(localStorage.getItem('cart'))\n\t\t}\n\t\tcart.splice(index, 1)\n\t\tlocalStorage.setItem('cart', JSON.stringify(cart))\n\t}\n\treturn cart\n}\n\n\n\nexport default { addItem, totalItems, getCart, updateCart, removeItem }","import React, { useState } from 'react'\nimport { makeStyles, AppBar, Toolbar, IconButton, withStyles, Badge, Typography, useScrollTrigger, Slide, Button, Menu as Mmenu, MenuItem } from '@material-ui/core'\nimport { AccountCircle, MoreVert, ShoppingCart } from '@material-ui/icons'\nimport { withRouter, Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport authHelper from '../auth-helper'\nimport Search from './Search'\nimport cart from '../cart/cart-helper'\nimport { useApolloClient } from '@apollo/client'\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\tbar: {\n\t\tboxShadow: 'none',\n\t\tbackgroundColor: theme.palette.primary\n\n\t},\n\n\tspan: {\n\t\t[theme.breakpoints.up('md')]: {\n\t\t\tmarginLeft: 'auto'\n\t\t}\n\t},\n\tdesktop: {\n\t\tdisplay: 'none',\n\t\t[theme.breakpoints.up('md')]: {\n\t\t\tdisplay: 'flex'\n\t\t},\n\t\t\n\t},\n\tmobile: {\n\t\tdisplay: 'flex',\n\t\t[theme.breakpoints.up('md')]: {\n\t\t\tdisplay: 'none'\n\t\t} \n\t},\n\tindex: {\n\t\tzIndex: 1000\n\t}\n\n\n}))\n\n\nconst StyledBadge = withStyles((theme) => ({\n\tbadge: {\n\t\tright: 5,\n\t\ttop: 13,\n\t\tpadding: '0 4px'\n\t}\n}))(Badge)\n\n\nconst HideOnScroll = ({ children }) => {\n\tconst trigger = useScrollTrigger({ target: window })\n\n\treturn (\n\t\t<Slide appear={false} direction=\"down\" in={!trigger}>\n\t\t\t{children}\n\t\t</Slide>\n\t)\n}\n\nHideOnScroll.propTypes = {\n\tchildren: PropTypes.element.isRequired\n}\n\nconst Menu = withRouter(({ history }) => {\n\tconst classes = useStyles()\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst [MobileAnchorEl, setMobileAnchorEl] = useState(null)\n\tconst client = useApolloClient()\n\n\tconst handlePrimaryMenuOpen = (event) => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handlePrimaryMenuClose = (cb) => {\n\t\tsetAnchorEl(null)\n\t\tif (typeof cb === 'function') {\n\t\t\tcb()\n\t\t}\n\t}\n\n\tconst handleMobileMenuOpen = (event) => {\n\t\tsetMobileAnchorEl(event.currentTarget)\n\t}\n\tconst handleMobileMenuClose = () => {\n\t\tsetMobileAnchorEl(null)\n\t}\n\n\tconst handleLogout = () => {\n\t\tlocalStorage.clear()\n\t\tclient.resetStore()\n\t\thistory.push('/')\n\t}\n\t\n\n\n\n\tconst menuId = 'primary-menu'\n\tconst renderMenu = (\n\t\t<Mmenu\n\t\tid={menuId}\n\t\tanchorEl={anchorEl}\n\t\tanchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n\t\tkeepMounted\n\t\ttransformOrigin={{ vertical: 'top', horizontal: 'right' }}\n\t\topen={Boolean(anchorEl)}\n\t\tonClose={handlePrimaryMenuClose}\n\t\tclassName={classes.index}\n\n\n\t\t>\n\t\t\t<MenuItem onClick={handlePrimaryMenuClose}>\n\t\t\t\t<Link to=\"/profile\">\n\t\t\t\t\tProfile\n\t\t\t\t</Link>\n\t\t\t</MenuItem>\n\t\t\t<MenuItem onClick={() => handlePrimaryMenuClose(handleLogout)}>Logout</MenuItem>\n\t\t</Mmenu>\n\t)\n\tconst mobileMenuId = 'mobile-menu'\n\tconst renderMobileMenu = (\n    <Mmenu\n      anchorEl={MobileAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={Boolean(MobileAnchorEl)}\n      onClose={handleMobileMenuClose}\n    >\n\t\t\t<MenuItem>\n\t\t\t\t<IconButton color=\"inherit\" edge=\"start\">\n\t\t\t\t\t<ShoppingCart />\n\t\t\t\t</IconButton>\n\t\t\t\t<p>Cart</p>\n\t\t\t</MenuItem>\n      <MenuItem onClick={handlePrimaryMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n\t\t\t\t\tedge=\"start\"\n\t\t\t\t\t\n        >\n          <AccountCircle />\n        </IconButton>\n        <p>Profile</p>\n      </MenuItem>\n\t\t\t\n    </Mmenu>\n  )\n\treturn (\n\t\t<div>\n\t\t\t<HideOnScroll>\n\t\t\t\t<AppBar className={classes.bar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title} color=\"inherit\">\n\t\t\t\t\t\t\t\tSnake Way\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t!authHelper.isAuthenticated()\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t<span className={classes.span}>\n\t\t\t\t\t\t\t\t\t<Link to=\"/cart\">\n\t\t\t\t\t\t\t\t\t\t<StyledBadge color=\"secondary\"  badgeContent={cart.totalItems()}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"cart\" color=\"inherit\" edge=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingCart />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</StyledBadge>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<Link to=\"/signup\">\n\t\t\t\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t\t\t\tSignup\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<Link to=\"/signin\">\n\t\t\t\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tauthHelper.isAuthenticated()\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t<span className={classes.span}>\n\t\t\t\t\t\t\t\t<span className={classes.desktop}>\n\t\t\t\t\t\t\t\t\t<Link to=\"/cart\">\n\t\t\t\t\t\t\t\t\t\t<StyledBadge color=\"secondary\"  badgeContent={cart.totalItems()}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"cart\" color=\"inherit\" edge=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingCart />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</StyledBadge>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\taria-label=\"account of current user\"\n\t\t\t\t\t\t\t\t\taria-controls={menuId}\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handlePrimaryMenuOpen}\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\tclassName={classes.desktopCart}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<AccountCircle />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<div className={classes.mobile}>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\taria-label=\"show more\"\n\t\t\t\t\t\t\t\t\taria-controls={mobileMenuId}\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleMobileMenuOpen}\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\n\t\t\t\t</AppBar>\n\t\t\t\t\n\t\t\t</HideOnScroll>\n\t\t\t{renderMenu}\n\t\t\t{renderMobileMenu}\n\t\t</div>\n\t)\n})\n\nexport default Menu","import React from 'react'\nimport { Card, Typography, Grid, CardContent, makeStyles, CardHeader } from '@material-ui/core'\nimport { ChevronRight } from '@material-ui/icons'\n\nimport { useQuery } from '@apollo/client'\nimport { GET_BY_CATEGORY } from '../../graphql/queries'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport ContentLoader from 'react-content-loader'\n\nconst OverViewLoader = (props) => (\n\t<ContentLoader \n    speed={2}\n    width={1271}\n    height={302}\n    viewBox=\"0 0 600 100\"\n    backgroundColor=\"#c7bdbd\"\n    foregroundColor=\"#ecebeb\"\n    {...props}\n  >\n    <rect x=\"520\" y=\"166\" rx=\"3\" ry=\"3\" width=\"88\" height=\"6\" /> \n    <rect x=\"547\" y=\"169\" rx=\"3\" ry=\"3\" width=\"52\" height=\"6\" /> \n    <circle cx=\"577\" cy=\"171\" r=\"20\" /> \n    <rect x=\"36\" y=\"120\" rx=\"0\" ry=\"0\" width=\"341\" height=\"173\" /> \n    <rect x=\"4\" y=\"-23\" rx=\"0\" ry=\"0\" width=\"543\" height=\"214\" />\n  </ContentLoader>\n)\n\nconst useStyles = makeStyles(theme => ({\n\tchevron: {\n\t\talignSelf: 'center'\n\t},\n\tcard: {\n\t\tpadding: 0\n\t},\n\tmedia: {\n\t\twidth: 'auto',\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\twidth: '100%',\n\t\t\theight: 'auto'\n\t\t}\n\t}\n}))\n\nconst Overview = ({ category }) => {\n\tconst classes = useStyles()\n\tconst result = useQuery(GET_BY_CATEGORY, {\n\t\tvariables: { category: category, limit: 'YES' }\n\t})\n\tif (result.loading) {\n\t\treturn (\n\t\t\t<OverViewLoader />\n\t\t)\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader title={\n\t\t\t\t<Link to={`/products/${category}`}>\n\t\t\t\t\t{category}\n\t\t\t\t</Link>\n\t\t\t}\n\t\t\t/>\n\t\t\t<CardContent>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.data.getByCategory.map(p => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={2} key={p.id}>\n\t\t\t\t\t\t\t\t\t<Link to={`/products/product/${p.id}`}>\n\t\t\t\t\t\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader title={p.label} />\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`/api/image/${p.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.media}\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"140\"\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"product\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" component=\"p\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ // Don't show whole description in overview\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.description.length < 60\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.description\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.description.slice(0, 60)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t<Link to={`/products/${category}`}>\n\t\t\t\t\t\t<ChevronRight className={classes.chevron} />\n\t\t\t\t\t</Link>\n\t\t\t\t</Grid>\n\t\t\t</CardContent>\n\t\t\t\n\t\t</Card>\n\t)\n}\n\nOverview.propTypes = {\n\tcategory: PropTypes.string.isRequired\n}\n\nexport default Overview","import React from 'react'\nimport { Grid, makeStyles } from '@material-ui/core'\n\nimport Overview from './Overview'\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\tmargin: 'auto',\n\t\tmarginTop: theme.spacing(7),\n\t\tpadding: `${theme.spacing(3)}px`,\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(1)\n\t\t}\n\t}\n}))\n\nconst Home = () => {\n\tconst classes = useStyles()\n\n\n\n\treturn (\n\t\t<Grid container spacing={3} className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Overview category={'Electronics'} />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Overview category={'Books'} />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Overview category={'Clothing'} />\n\t\t\t</Grid>\n\t\t</Grid>\n\n\t)\n}\n\nexport default Home","import { gql } from '@apollo/client'\n\n\n\nexport const CREATE_USER = gql`\n\tmutation CreateUser($username: String!, $password: String!) {\n\t\tcreateUser(username: $username, password: $password) {\n\t\t\tusername\n\t\t\tid\n\t\t}\n\t}\n`\n\nexport const LOGIN = gql`\n\tmutation Login($username: String!, $password: String!) {\n\t\tlogin(username: $username, password: $password) {\n\t\t\tvalue\n\t\t}\n\t}\n`\n\nexport const UPDATE_USERNAME = gql`\n\tmutation UpdateUsername($newUsername: String!) {\n\t\tupdateUsername(newUsername: $newUsername) {\n\t\t\tusername\n\t\t\tid\n\t\t}\n\t}\n`\n\nexport const UPDATE_PASSWORD = gql`\n\tmutation UpdatePassword($oldPassword: String!, $newPassword: String!) {\n\t\tupdatePassword(oldPassword: $oldPassword, newPassword: $newPassword) {\n\t\t\tusername\n\t\t\tid\n\n\t\t}\n\t}\n`\n\nconst PRODUCT_DETAILS = gql`\nfragment ProductDetails on Product {\n\tlabel\n\tprice\n\tstock\n\tdescription\n\tid\n\trating\n\tcategory\n\treviews {\n\t\tid\n\t\trating\n\t\ttext\n\t\tcreated\n\t\tpostedBy {\n\t\t\tusername\n\t\t\tid\n\t\t}\n\t}\n}\n`\n\nconst ORDER_DETAILS = gql`\n\tfragment OrderDetails on Order {\n\t\torderedProduct {\n\t\t\t...ProductDetails\n\t\t}\n\t\tquantity\n\t\tcreated\n\t\taddress\n\t\tid\n\t\tfinished\n\t\tshipped\n\t\tuser {\n\t\t\tusername\n\t\t\tid\n\t\t}\n\t}\n\t${PRODUCT_DETAILS}\n`\n\nexport const PLACE_ORDER = gql`\n\tmutation PlaceOrder($orderedProductId: String!, $quantity: Int!, $address: String!) {\n\t\tplaceOrder(orderedProductId: $orderedProductId, quantity: $quantity, address: $address) {\n\t\t\t...OrderDetails\n\t\t}\n\t}\n\t${ORDER_DETAILS}\n`\n\nexport const ADD_REVIEW = gql`\n mutation AddReview($body: String!, $rating: Int!, $productId: String!) {\n\t addReview(body: $body, rating: $rating, productId: $productId) {\n\t\t ...ProductDetails\n\t }\n }\n ${PRODUCT_DETAILS}\n`\n\nexport const MARK_AS_RECEIVED = gql`\n mutation MarkAsReceived($orderId: String!) {\n\t markAsReceived(orderId: $orderId) {\n\t\t ...OrderDetails\n\t }\n }\n ${ORDER_DETAILS}\n`","import React, { useEffect, useState } from 'react'\nimport { Card, CardContent, CardActions, makeStyles, Typography, TextField, Icon, Button } from '@material-ui/core'\nimport { useMutation } from '@apollo/client'\nimport { Redirect } from 'react-router-dom'\nimport { LOGIN } from '../../graphql/mutations'\n\nconst useStyles = makeStyles(theme => ({\n\tcard: {\n\t\tmaxWidth: 600,\n\t\tmargin: 'auto',\n\t\tmarginTop: theme.spacing(7),\n\t\ttextAlign: 'center'\n\t},\n\ttitle: {\n\t\tmarginTop: theme.spacing(2),\n\t\tcolor: theme.palette.openTitle,\n\t\ttextAlign: 'center'\n\t},\n\ttextField: {\n\t\twidth: 300,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(2)\n\t},\n\tsubmit: {\n\t\tmargin: 'auto',\n\t\tmarginBottom: theme.spacing(1)\n\t},\n\terror: {\n\t\tverticalAlign: 'middle'\n\t}\n}))\n\nconst Signin = (props) => {\n\tconst classes = useStyles()\n\tlet timeout // To handle error screen time\n\tconst [ values, setValues ] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t\terror: '',\n\t\tredirectToReferrer: false\n\t})\n\n\tconst [ login, result ] = useMutation(LOGIN, {\n\t\tonError: (error) => {\n\t\t\tsetValues({ ...values, error: error.graphQLErrors[0].message })\n\t\t\tclearTimeout(timeout)\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsetValues({ ...values, error: ''})\n\t\t\t}, 7000)\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\tif (result.data) {\n\t\t\tconst token = result.data.login.value\n\t\t\tlocalStorage.setItem('snake-way-login', token)\n\t\t\tsetValues({ ...values, redirectToReferrer: true })\n\t\t}\n\t}, [result.data])\n\n\tconst handleChange = name => event => {\n\t\tsetValues({ ...values, [name]: event.target.value })\n\t}\n\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\tif (values.username === '' || values.password === '') {\n\t\t\tsetValues({ ...values, error: 'Both fields are required' })\n\t\t\tclearTimeout(timeout)\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsetValues({ ...values, error: ''})\n\t\t\t}, 7000)\n\t\t\treturn\n\t\t}\n\n\t\tlogin({ variables: { username: values.username, password: values.password } })\n\t}\n\n\tconst { from } = props.location.state || {\n\t\tfrom: { pathname: '/' }\n \t}\n\n\tconst { redirectToReferrer } = values\n\n \tif (redirectToReferrer) {\n\t \treturn <Redirect to={from} />\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Card className={classes.card}>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<TextField id=\"username\" type=\"text\" label=\"Username\"\n\t\t\t\t\t\tclassName={classes.textField} value={values.username}\n\t\t\t\t\t\tonChange={handleChange('username')}\n\t\t\t\t\t\tmargin=\"normal\"/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<TextField id=\"password\" type=\"password\" label=\"Password\"\n\t\t\t\t\t\tclassName={classes.textField} value={values.password}\n\t\t\t\t\t\tonChange={handleChange('password')} margin=\"normal\"/>\n\t\t\t\t\t<br />\n\t\t\t\t\t{\n\t\t\t\t\t\tvalues.error && <Typography component=\"p\" color=\"error\">\n\t\t\t\t\t\t\t<Icon  color=\"error\" className={classes.error}>error</Icon>\n\t\t\t\t\t\t\t{values.error}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t}\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" onClick={handleSubmit}\n\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t</Button>\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t\t</div>\n\t)\n}\n\nexport default Signin","import React, { useEffect, useState } from 'react'\nimport { useMutation } from '@apollo/client'\nimport { CREATE_USER } from '../../graphql/mutations'\nimport { Card, CardContent, Typography, Icon, TextField, CardActions, makeStyles, Button, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\n\n\nconst useStyles = makeStyles(theme => ({\n\tcard: {\n\t\tmaxWidth: 600,\n\t\tmargin: 'auto',\n\t\tmarginTop: theme.spacing(7),\n\t\ttextAlign: 'center'\n\t},\n\ttitle: {\n\t\tmarginTop: theme.spacing(2),\n\t\tcolor: theme.palette.openTitle,\n\t\ttextAlign: 'center'\n\t},\n\ttextField: {\n\t\twidth: 300,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(2)\n\t},\n\tsubmit: {\n\t\tmargin: 'auto',\n\t\tmarginBottom: theme.spacing(1)\n\t},\n\terror: {\n\t\tverticalAlign: 'middle'\n\t}\n\n\n}))\nconst Signup = () => {\n\tconst classes = useStyles()\n\tlet timeout\n\tconst [values, setValues] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t\topen: false,\n\t\terror: ''\n\t})\n\n\tconst [ createUser, result ] = useMutation(CREATE_USER, {\n\t\tonError: (error) => {\n\t\t\tsetValues({ ...values, error: error.graphQLErrors[0].message })\n\t\t\tclearTimeout(timeout)\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsetValues({ ...values, error: ''})\n\t\t\t}, 7000)\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\tif (result.data) {\n\t\t\tsetValues({ ...values, open: true })\n\t\t}\n\t}, [result.data])\n\n\tconst handleChange = name => event => {\n\t\tsetValues({ ...values, [name]: event.target.value })\n\t}\n\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\t\n\t\tif (values.username === '' || values.password === '') {\n\t\t\tsetValues({ ...values, error: 'Both fields are required' })\n\t\t\tclearTimeout(timeout)\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsetValues({ ...values, error: ''})\n\t\t\t}, 7000)\n\t\t\treturn\n\t\t}\n\t\tcreateUser({ variables: { username: values.username, password: values.password } })\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Card className={classes.card}>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<TextField id=\"username\" label=\"Username\" type=\"text\" className={classes.textField}\n\t\t\t\t\t\tvalue={values.username} onChange={handleChange('username')}\n\t\t\t\t\t\tmargin=\"normal\" />\n\t\t\t\t\t<br />\n\t\t\t\t\t<TextField id=\"password\" type=\"password\" label=\"Password\"\n\t\t\t\t\t\tclassName={classes.textField} value={values.password}\n\t\t\t\t\t\tonChange={handleChange('password')} margin=\"normal\" />\n\t\t\t\t\t<br />\n\t\t\t\t\t{\n\t\t\t\t\t\tvalues.error && <Typography component=\"p\" color=\"error\">\n\t\t\t\t\t\t\t<Icon color=\"error\" className={classes.error}>error</Icon>\n\t\t\t\t\t\t\t{values.error}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t}\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<Button color=\"secondary\"  variant=\"contained\" onClick={handleSubmit}\n\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</Button>\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t\t<Dialog open={values.open} disableBackdropClick={true}>\n\t\t\t\t<DialogTitle>New Account</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tNew account successfully created.\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Link to=\"/signin\">\n\t\t\t\t\t\t<Button color=\"secondary\"  autoFocus=\"autoFocus\" variant=\"contained\">\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n}\n\nexport default Signup","import React from 'react'\nimport { GET_BY_CATEGORY } from '../../graphql/queries'\nimport { useQuery } from '@apollo/client'\nimport { Grid, Typography, makeStyles, Card, CardHeader, CardContent } from '@material-ui/core'\nimport { Link, useParams } from 'react-router-dom'\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tmargin: 'auto',\n\t\tmarginTop: theme.spacing(5),\n\t\tpadding: `${theme.spacing(3)}px`\n\t},\n\tgrid: {\n\t\tflexGrow: 1\n\t},\n\theading: {\n\t\tpadding: theme.spacing(3),\n\t\ttextAlign: 'left',\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(2, 2, 2, 0)\n\t\t}\n\t},\n\tmedia: {\n\t\thegith: 'auto',\n\t\twidth: '100%'\n\t}\n}))\n\nconst Category = () => {\n\tconst classes = useStyles()\n\tconst category = useParams().category\n\tconsole.log(category)\n\n\tconst result = useQuery(GET_BY_CATEGORY, {\n\t\tvariables: { category: category, limit: 'NO' } \n\t})\n\n\tif (result.loading) {\n\t\treturn <div>loading...</div>\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Typography variant=\"h3\" className={classes.heading}>\n\t\t\t\t{category}\n\t\t\t</Typography>\n\t\t\t<Grid container spacing={3} className={classes.grid}>\n\t\t\t\t{\n\t\t\t\t\tresult.data.getByCategory.map(p => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t\t<Link to={`/products/product/${p.id}`}>\n\t\t\t\t\t\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader title={p.label} />\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`/api/image/${p.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.media}\n\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"product\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" component=\"p\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ // Don't show whole description in overview\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.description.length < 100\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.description\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.description.slice(0, 100)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default Category","import React, { useState } from 'react'\nimport { makeStyles, Card, CardHeader, TextField, Icon, Button, Typography, CardContent } from '@material-ui/core'\nimport Rating from '@material-ui/lab/Rating'\nimport auth from '../auth-helper'\n\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\tcommentField: {\n\t\twidth: '40%'\n\t},\n\troot: {\n\t\tmarginTop: theme.spacing(7),\n\t\tpadding: theme.spacing(3)\n\t},\n\treviewBody: {\n\t\tborder: 'none'\n\t},\n\ttext: {\n\t\tpadding: theme.spacing(1)\n\t},\n\tloginto: {\n\t\tmarginLeft: theme.spacing(2)\n\t}\n}))\n\nconst Reviews = ({ reviews, addReview, productId }) => {\n\tconst classes = useStyles()\n\tconst [text, setText] = useState('')\n\tconst [rating, setRating] = useState(null)\n\tconst [error, setError] = useState('')\n\t\n\tlet timeout\n\n\tconst handleAdd = (event) => {\n\t\tevent.preventDefault()\n\t\tif (rating === null) {\n\t\t\tsetError('Rate before posting review')\n\t\t\tclearTimeout(timeout)\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsetError('')\n\t\t\t}, 6000)\n\t\t\treturn\n\t\t}\n\n\t\taddReview({ variables: { body: text, rating: Number(rating), productId } })\n\t\tsetText('')\n\t\tsetRating(null)\n\n\t}\n\n\tconsole.log(typeof addReview)\n\n\tconst commentBody = item => {\n\t\treturn (\n\t\t\t<Card variant=\"outlined\" className={classes.reviewBody}>\n\t\t\t\t<CardHeader\n\t\t\t\t\ttitle={\n\t\t\t\t\t\t<Typography variant=\"subtitle2\">\n\t\t\t\t\t\t\t{item.postedBy.username}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tsubheader={\n\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\tname=\"simple-controlled\"\n\t\t\t\t\t\t\tvalue={item.rating}\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\n\t\t\t\t/>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography variant=\"body2\" className={classes.text}>\n\t\t\t\t\t\t{item.text}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t)\n\t}\n\n\n\treturn (\n\t\t<Card className={classes.root}>\n\t\t\t{\n\t\t\t\tauth.isAuthenticated()\n\t\t\t\t?\n\t\t\t\t<CardHeader\n\t\t\t\t\ttitle={\n\t\t\t\t\t\t<form onSubmit={handleAdd}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror && <Typography component=\"p\" color=\"error\">\n\t\t\t\t\t\t\t\t<Icon  color=\"error\" className={classes.error}>error</Icon>\n\t\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Rating name=\"pristine\" value={rating} onChange={(event) => setRating(event.target.value)} />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\tvalue={text}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={(event) => setText(event.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"Write a review...\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tclassName={classes.commentField}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"contained\">post</Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</form>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t:\n\t\t\t\t<Typography variant=\"h6\" className={classes.loginto}>\n\t\t\t\t\tLog in to write a review\n\t\t\t\t</Typography>\n\t\t\t}\n\t\t\t{\n\t\t\t\treviews.map(r => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\ttitle={commentBody(r)}\n\t\t\t\t\t\t\tkey={r.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t</Card>\n\t)\n\n}\n\nexport default Reviews","import React from 'react'\nimport { makeStyles } from '@material-ui/core'\nimport ReactLoading from 'react-loading'\n\nconst useStyles = makeStyles((theme) => ({\n\tloading: {\n\tmargin: 'auto',\n\tmarginTop: theme.spacing(7)\n\t}\n}))\n\nconst Loading = ({ type, color }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<ReactLoading className={classes.loading} type={type} color={color} height={100} width={100} />\n\t)\n}\n\nexport default Loading\n\n","import React, { useState, useMemo } from 'react'\nimport { GET_PRODUCT_BY_ID } from '../../graphql/queries'\nimport { useQuery, useMutation } from '@apollo/client'\nimport { Grid, Typography, makeStyles, Card, CardHeader, CardContent, CardActions, Button } from '@material-ui/core'\nimport { Redirect, useParams } from 'react-router-dom'\nimport cart from '../cart/cart-helper'\nimport Reviews from './Reviews'\nimport { ADD_REVIEW } from '../../graphql/mutations'\nimport Rating from '@material-ui/lab/Rating'\nimport Loading from '../loading/Loading'\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tmarginTop: theme.spacing(7),\n\t\tpadding: theme.spacing(3)\n\t},\n\tpriceTag: {\n\t\tcolor: 'hsl(0, 80%, 50%)',\n\n\t},\n\ttitle: {\n\t\tpadding: `${theme.spacing(2)}px 0 ${theme.spacing(2)}px 0`,\n\n\t},\n\n\tbodyText: {\n\t\tmarginTop: theme.spacing(3),\n\t\tfontWeight: 100\n\t},\n\t\n\n\tmedia: {\n\t\thegith: 'auto',\n\t\twidth: '100%'\n\t},\n\tflex: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tflexDirection: 'column'\n\t},\n\tquantity: {\n\t\twidth: '90%',\n\t\tmarginBottom: theme.spacing(2),\n\t\tcolor: 'black'\n\t},\n\tflexRow: {\n\t\tdisplay: 'flex',\n\t\tmarginBottom: theme.spacing(0.5)\n\n\t},\n\tratingCount: {\n\t\tmarginLeft: theme.spacing(1)\n\t},\n\n\n\n}))\n\nconst Product = () => {\n\tconst classes = useStyles()\n\tconst productId = useParams().productId\n\n\tconst [quantity, setQuantity] = useState(null)\n\tconst [redirect, setRedirect] = useState(false)\n\n\n\tconst handleAddToCart = (event) => {\n\t\tevent.preventDefault()\n\n\t\tcart.addItem(result.data.getProductById, () => {\n\t\t\tsetRedirect(!redirect)\n\t\t})\n\t}\n\n\tconst result = useQuery(GET_PRODUCT_BY_ID, {\n\t\tvariables: { productId: productId }\n\t})\n\n\t// the averageRating computation is a good target for the useMemo hook\n\tconst averageRating = useMemo(() => {\n\t\tif (result.data) {\n\t\t\tconst sum = result.data.getProductById.reviews.reduce((a, b) => {\n\t\t\t\treturn a + b.rating\n\t\t\t}, 0)\n\t\t\tconsole.log('sum', sum)\n\t\t\treturn sum / result.data.getProductById.reviews.length\n\t\t}\n\t\t\n\t}, [result.data])\n\n\tconst [addReview] = useMutation(ADD_REVIEW, {\n\t\tupdate: (store, response) => {\n\t\t\tconst dataInStore = store.readQuery({ query: GET_PRODUCT_BY_ID })\n\t\t\tstore.writeQuery({\n\t\t\t\tquery: GET_PRODUCT_BY_ID,\n\t\t\t\tdata: {\n\t\t\t\t\t...dataInStore,\n\t\t\t\t\tgetProductById:  response.data.addReview \n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\n\n\n\tif (result.loading) {\n\t\treturn <Loading type=\"spin\" color=\"black\" />\n\t}\n\t\n\tif (redirect) {\n\t\treturn <Redirect to=\"/cart\" />\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={3} className={classes.root}>\n\t\t\t\t<Grid item xs={12} md={5}>\n\t\t\t\t\t<img className={classes.media} src={`/api/image/${productId}`} alt=\"product\" />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={5}>\n\t\t\t\t\t<Typography variant=\"h4\" className={classes.title}>\n\t\t\t\t\t\t{result.data.getProductById.label}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t\n\t\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t\t<Rating value={averageRating} readOnly />\n\t\t\t\t\t\t<Typography className={classes.ratingCount} component=\"span\" variant=\"body1\">\n\t\t\t\t\t\t\t{result.data.getProductById.reviews.length} ratings\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tPrice: <span className={classes.priceTag}>${result.data.getProductById.price}</span>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant='body2' className={classes.bodyText}>\n\t\t\t\t\t\t{result.data.getProductById.description}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={2}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardHeader title={\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<span className={classes.priceTag}>${result.data.getProductById.price}</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tresult.data.getProductById.stock > 0\n\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tIn stock. Order soon.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tOut of stock.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t<form className={classes.flex} onSubmit={handleAddToCart}>\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" color=\"secondary\">Add to cart</Button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Reviews reviews={result.data.getProductById.reviews} addReview={addReview} productId={productId} />\n\t\t</div>\n\t)\n}\n\nexport default Product","import React, { useState } from 'react'\n\nimport { Card, CardContent, CardHeader, makeStyles, Typography, Button, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@material-ui/core'\nimport auth from '../auth-helper'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\ttotal: {\n\t\tmarginTop: theme.spacing(2),\n\t\tpadding: theme.spacing(1)\n\t},\n\tcontButton: {\n\t\tmarginLeft: theme.spacing(2)\n\t}\n}))\n\n\nconst Checkout = (props) => {\n\tconst classes = useStyles()\n\tconst [redirect, setRedirect] = useState(false)\n\tconst [open, setOpen] = useState(false)\n\tconst history = useHistory()\n\n\tconst handleCheckout = () => {\n\t\tconst x = props.handleCheckout()\n\t\tif (x === 1) {\n\t\t\tsetOpen(true)\n\t\t}\n\t}\n\tif (redirect) {\n\t\treturn <Redirect to={{\n\t\t\tpathname: '/signin',\n\t\t\tstate: { from: history.location.pathname }\n\t\t}} />\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Card>\n\t\t\t\t<CardHeader title={<Typography variant=\"subtitle1\" className={classes.total}>Total: ${props.getTotal()}</Typography>} />\n\t\t\t\t<CardContent>\n\t\t\t\t\t\n\t\t\t\t\t{\n\t\t\t\t\t\tauth.isAuthenticated()\n\t\t\t\t\t\t?\n\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" onClick={handleCheckout}>Checkout</Button>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div>\n\n\t\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" onClick={() => setRedirect(true)}>Sign in to checkout</Button>\n\n\t\t\t\t\t\t\t<Link to='/' >\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" className={classes.contButton}>Continue Shopping</Button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t\t<Dialog open={open} disableBackdropClick>\n\t\t\t\t<DialogTitle>New Order</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\tOrder successfully placed.\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Link to=\"/profile?tab=1\">\n\t\t\t\t\t\t<Button color=\"secondary\"  autoFocus=\"autoFocus\" variant=\"contained\">\n\t\t\t\t\t\t\tTrack order\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n}\n\nexport default Checkout","import { Button, Card, CardContent, Divider, makeStyles, TextField, Typography, Grid } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport cart from './cart-helper'\nimport { Link } from 'react-router-dom'\nimport Checkout from  './Checkout'\nimport { useMutation } from '@apollo/client'\nimport { PLACE_ORDER } from '../../graphql/mutations'\nimport { GET_ORDERS_BY_USER } from '../../graphql/queries'\n\nconst useStyles = makeStyles((theme) => ({\n\tcard: {\n\t\tpadding: theme.spacing(2),\n\n\n\t},\n\t\n\tmedia: {\n\t\thegith: '40px',\n\t\twidth: '40px',\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\twidth: '150px',\n\t\t\theight: '150px'\n\t\t},\n\t\tflex: 1\n\t},\n\tflex: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center'\n\t},\n\tdetails: {\n\t\tpadding: theme.spacing(1),\n\t\tflex: 2\n\t},\n\tproductTitle: {\n\t\tmarginBottom: theme.spacing(2),\n\t\tfontSize: '2em',\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tfontSize: '1em'\n\t\t}\n\t},\n\tprice: {\n    color: theme.palette.text.secondary,\n    display: 'inline'\n  },\n\titemTotal: {\n    float: 'right',\n    marginRight: '40px',\n    fontSize: '1.5em',\n  },\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tmarginLeft: theme.spacing(1),\n\t\twidth: 50,\n\n\t},\n\n\tsubheading: {\n\t\tmarginTop: theme.spacing(2)\n\t},\n\ttotal: {\n\t\tmarginTop: theme.spacing(2),\n\t\tpadding: theme.spacing(1)\n\t},\n\tsingleProduct: {\n\t\tmarginBottom: theme.spacing(2)\n\t}\n}))\n\nconst CartItems = () => {\n\tconst classes = useStyles()\n\tconst [items, setItems] = useState(cart.getCart())\n\n\tconst [placeOrder] = useMutation(PLACE_ORDER, {\n\t\tupdate: (store, response) => {\n\t\t\tlet dataInStore\n\t\t\ttry {\n\t\t\t\tdataInStore = store.readQuery({ query: GET_ORDERS_BY_USER })\n\t\t\t} catch (error) {\n\t\t\t\treturn \tstore.writeQuery({\n\t\t\t\t\tquery: GET_ORDERS_BY_USER,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tgetOrdersByUser: [ response.data.placeOrder ]\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tstore.writeQuery({\n\t\t\t\tquery: GET_ORDERS_BY_USER,\n\t\t\t\tdata: {\n\t\t\t\t\t...dataInStore,\n\t\t\t\t\tgetOrdersByUser: [ ...dataInStore.getOrdersByUser, response.data.placeOrder ]\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\tconst handleChange = index => event => {\n\t\tlet updatedItems = items\n\t\tupdatedItems[index].quantity = event.target.value\n\n\t\tsetItems([...updatedItems])\n\t\tcart.updateCart(index, event.target.value)\n\t}\n\n\tconst removeItem = index => event => {\n\t\tlet updatedItems = cart.removeItem(index)\n\t\tsetItems(updatedItems)\n\t}\n\n\tconst getTotal = () => {\n\t\treturn items.reduce((a, b) => {\n\t\t\treturn a + (b.quantity * b.product.price)\n\t\t}, 0)\n\t}\n\n\tconst handleCheckout = () => {\n\t\tif (items.length !== 0) {\n\t\t\titems.forEach((i, index) => {\n\t\t\t\tplaceOrder({ variables: { orderedProductId: i.product.id, quantity: Number(i.quantity), address: 'Malta' } })\n\t\t\t\tcart.removeItem(index)\n\t\t\t})\n\t\t\treturn 1\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<Grid container spacing={3}>\n\t\t\t<Grid item xs={12} md={8}>\n\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t\n\t\t\t\t\t{\n\t\t\t\t\t\titems.length > 0 \n\t\t\t\t\t\t?\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titems.map((i, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<span key={i.product.id}>\n\t\t\t\t\t\t\t\t\t\t\t<Card className={classes.singleProduct}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.flex}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img className={classes.media} src={`/api/image/${i.product.id}`} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.details}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardContent >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${i.product.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.productTitle} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i.product.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.price}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${i.product.price}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={classes.itemTotal}>${i.product.price * i.quantity }</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.subheading}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" component=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuantity:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={i.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ min: 1, max: i.product.stock }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={removeItem(index)}>x Remove</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\tNo items were added to your cart.\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" component=\"a\">\n\t\t\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t\t\t&nbsp;Shop now\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t}\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t\t<Checkout handleCheckout={handleCheckout} getTotal={getTotal} />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default CartItems","import { makeStyles, Typography } from '@material-ui/core'\nimport React from 'react'\nimport CartItems from './CartItems'\n\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\tmargin: 'auto',\n\t\tmarginTop: theme.spacing(7),\n\t\tpadding: `${theme.spacing(3)}px`,\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(1)\n\t\t}\n\t},\n\theading: {\n\t\tpadding: theme.spacing(3),\n\t\ttextAlign: 'left',\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(2, 2, 2, 0)\n\t\t}\n\t},\n}))\n\nconst Cart = () => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Typography variant=\"h3\" className={classes.heading}>\n\t\t\t\t\tShopping Cart\n\t\t\t</Typography>\n\t\t\t<CartItems />\n\t\t</div>\n\t)\n}\n\nexport default Cart","import React, { useState, useEffect } from 'react'\nimport { makeStyles, Button, Typography } from '@material-ui/core'\nimport { useQuery, useMutation } from '@apollo/client'\nimport { GET_ORDERS_BY_USER } from '../../graphql/queries'\nimport { MARK_AS_RECEIVED } from '../../graphql/mutations'\nimport { Link } from 'react-router-dom'\nimport Loading from '../loading/Loading'\n\n\nconst useStyles = makeStyles((theme) => ({\n\ttabTabContent: {\n\t\tmaxWidth: '60%',\n\t\tmargin: 'auto',\n\t\tpaddingTop: theme.spacing(8),\n\t\tmarginTop: theme.spacing(5)\n\t},\n\tleft: {\n\t\twidth: '100%'\n\t},\n\timage: {\n\t\twidth: '50%',\n\t\theight: 'auto',\n\t},\n\tflex: {\n\t\tpadding: theme.spacing(3),\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center'\n\t},\n\tright: {\n\t\tflexGow: 2,\n\t\tmarginRight: theme.spacing(20),\n\t\twidth: '100%'\n\t},\n\tlabel: {\n\t\t\n\t\twidth: '100%',\n\t\t\n\t},\n\tsep: {\n\t\tpaddingBottom: theme.spacing(1.5)\n\t},\n\tempty: {\n\t\twidth: '100%',\n\t\tmargin: 'auto',\n\t\ttextAlign: 'center'\n\t},\n\tbutton: {\n\t\tmarginBottom: theme.spacing(1.5)\n\t}\n}))\n\n\nconst OrdersHistory = ({ finished }) => {\n\tconst result = useQuery(GET_ORDERS_BY_USER)\n\tconst [orders, setOrders] = useState([])\n\tconst classes = useStyles()\n\t\n\tconst [markReceived] = useMutation(MARK_AS_RECEIVED) // no need for update callback since in this case apollo will merge the objects automatically\n\n\tconst handleReceived = (id) => {\n\t\tmarkReceived({ variables: { orderId: id } })\n\t}\n\n\tuseEffect(() => {\n\t\tif(result.data) {\n\t\t\tsetOrders(o => o.concat(result.data.getOrdersByUser.filter( or => or.finished === finished)))\n\t\t}\n\t}, [result.data])\n\n\tif (result.loading) {\n\t\treturn <Loading type=\"spin\" color=\"black\" />\n\t}\n\n\n\n\treturn (\n\t\t<div className={classes.tabTabContent}>\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\torders?.length === 0\n\t\t\t\t\t?\n\t\t\t\t\t<Typography variant=\"h3\" className={classes.empty}>\n\t\t\t\t\t\tWow, such empty\n\t\t\t\t\t</Typography>\n\t\t\t\t\t:\n\t\t\t\t\torders.map(order => (\n\t\t\t\t\t\t<div key={order.id} className={classes.flex}>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Link to={`/products/product/${order.orderedProduct.id}`} className={classes.left}>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<img className={classes.image} src={`/api/image/${order.orderedProduct.id}`} />\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t\t\t\t<Link to={`/products/product/${order.orderedProduct.id}`} className={classes.label}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" className={classes.label}>\n\t\t\t\t\t\t\t\t\t\t\t{order.orderedProduct.label}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" className={classes.sep}>\n\t\t\t\t\t\t\t\t\t\tQuantity: {order.quantity}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\torder.shipped\n\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" className={classes.sep}>\n\t\t\t\t\t\t\t\t\t\tShipped\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\torder.finished\n\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" className={classes.sep}>\n\t\t\t\t\t\t\t\t\t\t\tfinished\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\torder.shipped && !order.finished\n\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t<Button className={classes.button} variant=\"outlined\" onClick={() => handleReceived(order.id)}>Mark as received</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\t\tCreated: {new Date(order.created).toDateString()}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default OrdersHistory","import React, { useEffect, useState } from 'react'\nimport { CardContent, Card, AppBar, TextField, CardActions, Button, makeStyles, Typography, Tabs, Tab } from '@material-ui/core'\nimport { useQuery, useMutation } from '@apollo/client'\nimport { ME } from '../../graphql/queries'\nimport { UPDATE_USERNAME, UPDATE_PASSWORD  } from '../../graphql/mutations'\nimport Alert from '@material-ui/lab/Alert'\nimport { parse } from 'query-string'\nimport ReactLoading from 'react-loading'\nimport OrdersHistory from './OrdersHistory'\nimport { useLocation } from 'react-router'\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\tmargin: 'auto',\n\t\tmarginTop: theme.spacing(7),\n\t\t\n\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(1)\n\t\t}\n\t},\n\theader: {\n\t\tpadding: theme.spacing(3)\n\t},\n\ttabs: {\n\t\tboxShadow: 'none'\n\t},\n\ttabContent: {\n\t\tbackgroundColor: 'rgb(241, 241, 241)'\n\t},\n\ttabTabContent: {\n\t\tmaxWidth: '60%',\n\t\tmargin: 'auto',\n\t\tpaddingTop: theme.spacing(8),\n\t\tmarginTop: theme.spacing(5)\n\t},\n\tbutton: {\n\t\tmarginLeft: theme.spacing(1)\n\t},\n\tpasswordTextFiled: {\n\t\tmarginTop: theme.spacing(5)\n\t},\n\t\n\tloading: {\n\t\twidth: 300,\n\t\tmargin: 'auto',\n\t\tmarginTop: theme.spacing(5),\n\t\tpadding: theme.spacing(10)\n\t}\n\n}))\n\nconst Profile = () => {\n\tconst classes = useStyles()\n\tconst queryTab = parse(useLocation().search)\n\tconsole.log(queryTab)\n\tlet timeout\n\tconst result = useQuery(ME)\n\n\tconst [values, setValues] = useState({\n\t\ttab: Number(queryTab.tab) || 0, // show tab 1 if redirected from checkout, otherwise default to tab 0\n\t\tusername: '',\n\t\toldPassword: '',\n\t\tnewPassword: '',\n\t\tconfirmPassword: '',\n\t\tconfirm: false,\n\t\tpassError: '',\n\t\tpassSuccess: '',\n\t\tuserError: '',\n\t\tuserSuccess: ''\n\t})\n\n\n\tconst handleNotification = (name, message) => {\n\t\tsetValues({ ...values, [name]: message })\n\t\tclearTimeout(timeout)\n\t\ttimeout = setTimeout(() => {\n\t\t\tsetValues({ ...values, [name]: '' })\n\t\t}, 7000)\n\t}\n\n\tconst [updateUsername, userResult] = useMutation(UPDATE_USERNAME, {\n\t\tonError: (error) => {\n\t\t\thandleNotification('userError', error.graphQLErrors[0].message)\n\t\t},\n\t})\n\n\tconst [updatePassword, passwordResult] = useMutation(UPDATE_PASSWORD, {\n\t\tonError: (error) => {\n\t\t\thandleNotification('passError', error.graphQLErrors[0].message)\n\t\t},\n\t})\n\n\tconst handleUsername = () => {\n\t\tif (values.username !== '') {\n\t\t\tupdateUsername({ variables: { newUsername: values.username } })\n\t\t}\n\t}\n\n\tconst handlePassword = () => {\n\t\t\n\t\tif ((!values.oldPassword || !values.newPassword || !values.confirmPassword) || !values.confirm) {\n\t\t\tconsole.log(values.confirm)\n\t\t\tsetValues({ ...values, error: 'All fields required and passwords must match', })\n\t\t\tclearTimeout(timeout)\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\tsetValues({ ...values, error: '' })\n\t\t\t}, 7000)\n\t\t\treturn\n\t\t}\n\t\tupdatePassword({ variables: { oldPassword: values.oldPassword, newPassword: values.newPassword } })\n\t\tsetValues({ ...values, oldPassword: '', newPassword: '', confirmPassword: '', confrim: false })\n\t}\n\n\tuseEffect(() => {\n\t\tif (values.confirmPassword && values.newPassword) {\n\t\t\tif (values.confirmPassword !== values.newPassword) {\n\t\t\t\tsetValues({ ...values, error: `Passwords don't match`, confirm: false })\n\t\t\t} else {\n\t\t\t\tsetValues({ ...values, error: '', confirm: true })\n\t\t\t}\n\t\t} else {\n\t\t\tsetValues({ ...values, error: '', confirm: false })\n\t\t}\n\t}, [values.newPassword, values.confirmPassword])\n\t\n\n\tuseEffect(() => {\n\t\tif (result.data) {\n\t\t\tsetValues({ ...values, username: result.data.me.username })\n\n\t\t}\n\t}, [result.data])\n\n\tuseEffect(() => {\n\t\tif (userResult.data) {\n\t\t\tsetValues({ ...values, username: userResult.data.updateUsername.username })\n\t\t\thandleNotification('userSuccess', 'Username updated successfuly')\n\t\t}\n\t}, [userResult.data])\n\n\tuseEffect(() => {\n\t\tif (passwordResult.data) {\n\t\t\thandleNotification('passSuccess', 'Password updated successfuly')\n\t\t}\n\t}, [passwordResult.data])\n\n\tconst handleChange = name => event => {\n\t\t\n\t\tsetValues({ ...values, [name]: event.target.value})\n\t}\n\n\tconst handleTabChange = (event, v) => {\n\t\tsetValues({ ...values, tab: v })\n\t}\n\n\t\n\n\tif (result.loading) {\n\t\treturn <ReactLoading className={classes.loading} type=\"spin\" color=\"black\" height={100} width={100} />\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AppBar position=\"static\" color=\"primary\" className={classes.tabs}>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={values.tab}\n\t\t\t\t\tonChange={handleTabChange}\n\t\t\t\t\tindicatorColor=\"secondary\"\n\t\t\t\t\ttextColor=\"black\"\n\t\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\t>\n\t\t\t\t\t<Tab label=\"Account Info\" />\n\t\t\t\t\t<Tab label=\"Open Orders\" />\n\t\t\t\t\t<Tab label=\"Finished Orders\" />\n\t\t\t\t</Tabs>\n\t\t\t\t<div className={classes.tabContent}>\n\t\t\t\t\t{\n\t\t\t\t\t\tvalues.tab === 0\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className={classes.tabTabContent}>\n\t\t\t\t\t\t\t\t<Typography  variant=\"h6\">\n\t\t\t\t\t\t\t\t\tBasic details\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t<TextField id=\"username\" label=\"Username\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.username}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange('username')}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tvalues.userSuccess\n\t\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t\t<Alert severity=\"success\">{values.userSuccess}</Alert>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tvalues.userError\n\t\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t\t<Alert severity=\"error\">{values.userError}</Alert>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t<Button className={classes.button} onClick={handleUsername} variant=\"contained\" color=\"secondary\">Save</Button>\n\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={classes.tabTabContent}>\n\t\t\t\t\t\t\t\t<Typography  variant=\"h6\">\n\t\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t<TextField id=\"oldPassword\" label=\"Old password\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.oldPassword}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange('oldPassword')}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<TextField id=\"newPassword\" label=\"New password\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"At least 8 characters...\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.newPassword}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange('newPassword')}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.passwordTextFiled}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<TextField id=\"confirmPassword\" label=\"Confrim password\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.confirmPassword}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange('confirmPassword')}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.passwordTextFiled}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tvalues.passError\n\t\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t\t<Alert severity=\"error\">{values.passError}</Alert>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tvalues.passSuccess\n\t\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t\t<Alert severity=\"success\">{values.passSuccess}</Alert>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t<Button className={classes.button} onClick={handlePassword} variant=\"contained\" color=\"secondary\">Save</Button>\n\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tvalues.tab === 1\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t<OrdersHistory finished={false} />\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tvalues.tab === 2\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t<OrdersHistory finished={true} />\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</AppBar>\n\t\t\t\n\t\t\n\t\t</div>\n\t)\n}\n\nexport default Profile","import React from 'react'\nimport { Typography, makeStyles } from '@material-ui/core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faGithub } from '@fortawesome/free-brands-svg-icons'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\t\n\t\tbackgroundColor: 'rgb(241, 241, 241)',\n\t\tminHeight: 100,\n\t\tpadding: theme.spacing(3),\n\t\n\t},\n\tfooterHeader: {\n\t\tmarginTop: theme.spacing(10),\n\t\ttextAlign: 'center',\n\n\t},\n\tlink: {\n\t\ttextAlign: 'center',\n\t\tmarginTop: theme.spacing(2)\n\t}\n}))\n\nconst Footer = () => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Typography className={classes.footerHeader} variant=\"h5\">\n\t\t\t\tSnake Way Commerce\n\t\t\t</Typography>\n\t\t\t<div className={classes.link}>\n\t\t\t\t<a href=\"https://github.com/snake-eaterr?tab=repositories\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t<Typography varinat=\"h6\">\n\t\t\t\t\t\t<FontAwesomeIcon icon={faGithub} /> snake-eaterr\n\t\t\t\t\t</Typography>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Footer","import React, { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport auth from './components/auth-helper'\n\nconst PrivateRoute = ({ component: Component, ...rest}) => {\n\treturn (\n\t\t<Route {...rest} render={props => {\n\t\t\treturn auth.isAuthenticated() ?\n\t\t\t\t<Component {...props} />\n\t\t\t\t: <Redirect to={{\n\t\t\t\t\tpathname: '/signin',\n\t\t\t\t\tstate: { from: props.location }\n\t\t\t\t}}/>\n\t\t}}/>\n\t)\n}\n\nexport default PrivateRoute","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Menu from './components/core/Menu'\nimport Home from './components/core/Home'\nimport Signin from './components/user/Signin'\nimport Signup from './components/user/Signup'\nimport Category from './components/product/Category'\nimport Product from './components/product/Product'\nimport Cart from './components/cart/Cart'\nimport Profile from './components/user/Profile'\nimport Footer from './components/core/Footer.js'\nimport PrivateRoute from './PrivateRoute'\n\n\nconst MainRouter = () => (\n\t<div>\n\t\t<Menu />\n\t\t<Switch>\n\t\t\t<Route path=\"/\" exact>\n\t\t\t\t<Home />\n\t\t\t</Route>\n\t\t\t<Route path=\"/signin\" component={Signin} />\n\t\t\t<Route path=\"/signup\">\n\t\t\t\t<Signup />\n\t\t\t</Route>\n\t\t\t<Route path=\"/cart\">\n\t\t\t\t<Cart />\n\t\t\t</Route>\n\t\t\t<PrivateRoute path=\"/profile\" component={Profile} />\n\t\t\t<Route path=\"/products/product/:productId\">\n\t\t\t\t<Product />\n\t\t\t</Route>\n\t\t\t<Route path=\"/products/:category\">\n\t\t\t\t<Category />\n\t\t\t</Route>\n\t\t</Switch>\n\t\t<Footer />\n\t</div>\n)\n\nexport default MainRouter","import React from 'react'\nimport { ThemeProvider } from '@material-ui/styles'\nimport theme from './theme'\nimport { BrowserRouter } from 'react-router-dom'\nimport MainRouter from './MainRouter'\n\n\nconst App = () => {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<MainRouter />\n\t\t\t</ThemeProvider>\n\t\t</BrowserRouter>\n\t)\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport {\n  ApolloClient, ApolloProvider, HttpLink, InMemoryCache\n} from '@apollo/client'\nimport { setContext } from '@apollo/client/link/context'\n\nconst authLink = setContext((_, { headers }) => {\n\tconst token = localStorage.getItem('snake-way-login')\n\treturn {\n\t\theaders: {\n\t\t\t...headers,\n\t\t\tauthorization: token ? `bearer ${token}` : null\n\t\t}\n\t}\n})\n\nconst httpLink = new HttpLink({ uri: '/graphql' })\n\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: authLink.concat(httpLink)\n})\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>\n  ,document.getElementById('root'))"],"sourceRoot":""}